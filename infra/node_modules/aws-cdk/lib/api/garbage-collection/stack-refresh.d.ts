import { CloudFormation } from 'aws-sdk';
export declare class ActiveAssetCache {
    private readonly stacks;
    rememberStack(stackTemplate: string): void;
    contains(asset: string): boolean;
}
export declare function refreshStacks(cfn: CloudFormation, activeAssets: ActiveAssetCache, maxWaitTime: number, qualifier?: string): Promise<void>;
/**
 * Background Stack Refresh properties
 */
export interface BackgroundStackRefreshProps {
    /**
     * The CFN SDK handler
     */
    readonly cfn: CloudFormation;
    /**
     * Active Asset storage
     */
    readonly activeAssets: ActiveAssetCache;
    /**
     * Stack bootstrap qualifier
     */
    readonly qualifier?: string;
    /**
     * Maximum wait time when waiting for stacks to leave REVIEW_IN_PROGRESS stage.
     *
     * @default 60000
     */
    readonly maxWaitTime?: number;
}
/**
 * Class that controls scheduling of the background stack refresh
 */
export declare class BackgroundStackRefresh {
    private readonly props;
    private timeout?;
    private lastRefreshTime;
    private queuedPromises;
    constructor(props: BackgroundStackRefreshProps);
    start(): void;
    private refresh;
    private justRefreshedStacks;
    /**
     * Checks if the last successful background refresh happened within the specified time frame.
     * If the last refresh is older than the specified time frame, it returns a Promise that resolves
     * when the next background refresh completes or rejects if the refresh takes too long.
     */
    noOlderThan(ms: number): Promise<unknown>;
    stop(): void;
}
